service: btg-pactual-api

provider:
  name: aws
  # Para funciones containerizadas no especifiques runtime
  region: us-east-1
  memorySize: 512
  timeout: 15
  stage: ${opt:stage, 'dev'}
  ecr:
    images:
      my-lambda-function:
        path: .
        file: Dockerfile
        platform: linux/amd64  # Importante para compatibilidad

functions:
  api:
    image:
      name: my-lambda-function
    events:
      - httpApi:
          path: /
          method: ANY
      - httpApi:
          path: "/{proxy+}"
          method: ANY

# plugins:
#   - serverless-docker  # No necesario con imágenes ECR nativas

# custom:
#   docker:
#     file: Dockerfile  # No necesario con configuración ECR nativa